{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classCallCheck = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar compute_scroll_into_view_1 = require(\"compute-scroll-into-view\");\nvar core_1 = require(\"@autocomplete/core\");\nvar lib_1 = require(\"@storex/react/lib\");\nvar AutocompleteWrapper = /*#__PURE__*/function (_React$Component) {\n  _inherits(AutocompleteWrapper, _React$Component);\n  var _super = _createSuper(AutocompleteWrapper);\n  function AutocompleteWrapper(props) {\n    var _this;\n    _classCallCheck(this, AutocompleteWrapper);\n    _this = _super.call(this, props);\n    _this.refMap = new Map();\n    _this.blurInput = function () {\n      if (_this.inputRef && _this.inputRef.blur && !_this.props.notBlurAfterEnter) {\n        _this.inputRef.blur();\n      }\n    };\n    _this.markedChangeHandler = function (_ref2) {\n      var key = _ref2.key,\n        index = _ref2.index,\n        option = _ref2.option;\n      var ref = _this.refMap.get(key);\n      var optionsContainerRef = _this.props.optionsContainerRef;\n      if (!ref || !optionsContainerRef) {\n        return;\n      }\n      var child = ReactDOM.findDOMNode(ref);\n      var refRoot = optionsContainerRef.current ? optionsContainerRef.current : optionsContainerRef;\n      var root = ReactDOM.findDOMNode(refRoot);\n      scrollIntoView(child, root);\n    };\n    _this.wrapperInputProps = function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var options = arguments.length > 1 ? arguments[1] : undefined;\n      var _onChange = props.onChange,\n        ref = props.ref,\n        _onKeyDown = props.onKeyDown,\n        _onBlur = props.onBlur,\n        _onFocus = props.onFocus,\n        others = __rest(props, [\"onChange\", \"ref\", \"onKeyDown\", \"onBlur\", \"onFocus\"]);\n      return Object.assign(Object.assign({}, others), _defineProperty({\n        onKeyDown: function onKeyDown(e) {\n          if (_onKeyDown) {\n            _onKeyDown(e);\n          }\n          _this.autoLogic.onKeyDown(e);\n        },\n        onChange: function onChange(e) {\n          if (_onChange) {\n            _onChange(e);\n          }\n          _this.autoLogic.onInputChange(e);\n        },\n        onBlur: function onBlur(e) {\n          if (_onBlur) {\n            _onBlur(e);\n          }\n          _this.autoLogic.onBlur(e);\n        },\n        onFocus: function onFocus(e) {\n          if (_onFocus) {\n            _onFocus(e);\n          }\n          _this.autoLogic.onFocus(e);\n        }\n      }, options && options.ref ? options.ref : \"ref\", function (_ref) {\n        if (!_ref) {\n          return;\n        }\n        _this.inputRef = _ref;\n        if (typeof ref === \"function\") {\n          ref(_ref);\n        } else if (ref) {\n          ref[\"current\"] = _ref;\n        }\n      }));\n    };\n    _this.wrapperOptionProps = function (key) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _onClick = props.onClick,\n        _ref3 = props.ref,\n        others = __rest(props, [\"onClick\", \"ref\"]);\n      return Object.assign(Object.assign({}, others), {\n        onClick: function onClick(e) {\n          if (_onClick) {\n            _onClick(e);\n          }\n          _this.autoLogic.addOptionByKey(key);\n        },\n        ref: function ref(_ref) {\n          if (!_ref) {\n            return;\n          }\n          _this.refMap.set(key, _ref);\n          if (typeof _ref3 === \"function\") {\n            _ref3(_ref);\n          } else if (_ref3) {\n            _ref3[\"current\"] = _ref;\n          }\n        }\n      });\n    };\n    _this.autoLogic = props.multi ? new core_1.MultiAutocompleteLogic() : new core_1.AutocompleteLogic();\n    _this.autoLogic.onMarkedOptionChange(_this.markedChangeHandler);\n    _this.autoLogic.onEnter(_this.blurInput);\n    _this.autoLogic.initArgs(props);\n    return _this;\n  }\n  _createClass(AutocompleteWrapper, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      this.autoLogic.updateArgs(this.props);\n      var state = this.autoLogic.state;\n      var isOpen = this.autoLogic.needToBeOpen;\n      var _this$autoLogic = this.autoLogic,\n        removeValue = _this$autoLogic.removeValue,\n        optionToDisplay = _this$autoLogic.optionToDisplay,\n        optionToKey = _this$autoLogic.optionToKey,\n        valueToKey = _this$autoLogic.valueToKey,\n        valueToDisplay = _this$autoLogic.valueToDisplay,\n        addOption = _this$autoLogic.addOption;\n      var wrapperOptionProps = this.wrapperOptionProps,\n        wrapperInputProps = this.wrapperInputProps;\n      return React.createElement(lib_1.Subscribe, {\n        to: this.autoLogic\n      }, function () {\n        _this2.refMap.clear();\n        var state = _this2.autoLogic.state;\n        var isOpen = _this2.autoLogic.needToBeOpen;\n        return _this2.props.children(Object.assign(Object.assign({}, state), {\n          isOpen: isOpen,\n          wrapperInputProps: wrapperInputProps,\n          wrapperOptionProps: wrapperOptionProps,\n          addOption: addOption,\n          removeValue: removeValue,\n          optionToDisplay: optionToDisplay,\n          optionToKey: optionToKey,\n          valueToDisplay: valueToDisplay,\n          valueToKey: valueToKey\n        }));\n      });\n    }\n  }]);\n  return AutocompleteWrapper;\n}(React.Component);\nexports.AutocompleteWrapper = AutocompleteWrapper;\n/**\r\n * Scroll node into view if necessary\r\n * @param {HTMLElement} node the element that should scroll into view\r\n * @param {HTMLElement} rootNode the root element of the component\r\n */\nfunction scrollIntoView(node, rootNode) {\n  if (node === null) {\n    return;\n  }\n  var actions = compute_scroll_into_view_1.default(node, {\n    boundary: rootNode,\n    block: \"nearest\",\n    scrollMode: \"if-needed\"\n  });\n  actions.forEach(function (_ref4) {\n    var el = _ref4.el,\n      top = _ref4.top,\n      left = _ref4.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}","map":{"version":3,"names":["React","require","ReactDOM","compute_scroll_into_view_1","core_1","lib_1","AutocompleteWrapper","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","refMap","Map","blurInput","inputRef","blur","notBlurAfterEnter","markedChangeHandler","_ref2","key","index","option","ref","get","optionsContainerRef","child","findDOMNode","refRoot","current","root","scrollIntoView","wrapperInputProps","arguments","length","undefined","options","onChange","onKeyDown","onBlur","onFocus","others","__rest","Object","assign","_defineProperty","e","autoLogic","onInputChange","_ref","wrapperOptionProps","onClick","addOptionByKey","set","multi","MultiAutocompleteLogic","AutocompleteLogic","onMarkedOptionChange","onEnter","initArgs","_createClass","value","render","_this2","updateArgs","state","isOpen","needToBeOpen","_this$autoLogic","removeValue","optionToDisplay","optionToKey","valueToKey","valueToDisplay","addOption","createElement","Subscribe","to","clear","children","Component","exports","node","rootNode","actions","default","boundary","block","scrollMode","forEach","_ref4","el","top","left","scrollTop","scrollLeft"],"sources":["../src/AutocompleteWrapper.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}