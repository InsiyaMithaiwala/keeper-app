{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/insiya/Downloads/keeper-app/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar React = require(\"react\");\nvar Popper = /*#__PURE__*/function (_React$Component) {\n  _inherits(Popper, _React$Component);\n  var _super = _createSuper(Popper);\n  function Popper(props) {\n    var _this;\n    _classCallCheck(this, Popper);\n    _this = _super.call(this, props);\n    _this.state = {\n      //display: \"none\"\n      position: \"fixed\",\n      zIndex: 50,\n      top: undefined,\n      bottom: undefined\n    };\n    _this.changeHandler = function (e) {\n      var state = Popper.getDerivedStateFromProps(_this.props, _this.state);\n      if (state != null) {\n        _this.setState(state);\n      }\n    };\n    _this.itself = React.createRef();\n    document.addEventListener(\"scroll\", _this.changeHandler, true);\n    return _this;\n  }\n  _createClass(Popper, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"scroll\", this.changeHandler, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var style = this.state;\n      return React.createElement(\"div\", {\n        ref: this.itself,\n        style: style\n      }, children(this.state));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.changeHandler(undefined);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var _Popper$calculatePosi = Popper.calculatePosition(props.triggerOn, props.maxHeight),\n        top = _Popper$calculatePosi.top,\n        bottom = _Popper$calculatePosi.bottom;\n      if (top !== state.top || bottom !== state.bottom) {\n        return Object.assign(Object.assign({}, state), {\n          top: top,\n          bottom: bottom\n        });\n      }\n      return null;\n    }\n  }]);\n  return Popper;\n}(React.Component);\nexports.Popper = Popper;\nPopper.calculatePosition = function (triggerOn, elmSize) {\n  if (triggerOn.current) {\n    var winSize = window.innerHeight;\n    //const top =   getOffsetTop(triggerOn.current);\n    var elemRect = triggerOn.current.getBoundingClientRect();\n    var top, bottom;\n    // there is different between chrome and edge be carful with this object (elemRect)\n    top = elemRect.top + elemRect.height;\n    // if the screen size smaller then popper change the position of the popper up from the target\n    if (typeof elmSize == \"number\" && top + elmSize > winSize) {\n      top = undefined;\n      bottom = winSize - elemRect.y;\n    }\n    return {\n      top: top,\n      bottom: bottom\n    };\n  }\n  return {};\n};","map":{"version":3,"names":["React","require","Popper","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","position","zIndex","top","undefined","bottom","changeHandler","e","getDerivedStateFromProps","setState","itself","createRef","document","addEventListener","_createClass","key","value","componentWillUnmount","removeEventListener","render","children","style","createElement","ref","componentDidUpdate","_Popper$calculatePosi","calculatePosition","triggerOn","maxHeight","Object","assign","Component","exports","elmSize","current","winSize","window","innerHeight","elemRect","getBoundingClientRect","height","y"],"sources":["../src/Popper.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}